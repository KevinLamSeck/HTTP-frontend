<div class="row m-10 justify-between items-center">
  <div class="col xs11 course-title flex items-center ">
    <h1> My own list</h1>

  </div>

  <div class="col xs1 course-number">
    {{ coursesConceptor.length }} courses
  </div>

</div>

<div class="mx-10">
  <mat-accordion *ngIf="coursesConceptor.length">
    <mat-expansion-panel class="dark:bg-neutral-600" *ngFor="let course of coursesConceptor">
      <mat-expansion-panel-header>
        <mat-panel-title class="dark:text-white">
          {{course.title}}
        </mat-panel-title>
        <mat-panel-description class="flex-row-reverse dark:text-white">
          <ng-container *ngIf="course.modules!.length > 0; else noModules">
            {{ course.modules!.length }} {{course.modules!.length <= 1 ? "module" : "modules" }} </ng-container>
              <ng-template #noModules>no module</ng-template>
        </mat-panel-description>
        <mat-action-row>
          <button mat-button color="primary" class="dark:text-white" mat-icon-button [matMenuTriggerFor]="menu"
            (click)="$event.stopPropagation()">...</button>
        </mat-action-row>
      </mat-expansion-panel-header>
      <mat-accordion *ngFor="let module of course.modules">
        <mat-expansion-panel class="mb-2 dark:bg-neutral-600">
          <mat-expansion-panel-header>
            <mat-panel-title class="dark:text-white">
              {{module.name}}
            </mat-panel-title>
            <mat-panel-description class="flex-row-reverse dark:text-white">
              <ng-container *ngIf="module.medias.length > 0; else noMedias">
                {{module.medias.length }} {{module.medias.length <= 1 ? "media" : "medias" }} </ng-container>
                  <ng-template #noMedias>no media</ng-template>
            </mat-panel-description>
            <mat-action-row>
              <button mat-button color="primary" class="dark:text-white" mat-icon-button
                [matMenuTriggerFor]="menuModule" (click)="$event.stopPropagation()">...</button>
            </mat-action-row>
          </mat-expansion-panel-header>
          <ng-container *ngFor="let media of module.medias">
            <mat-panel-description class=" grid grid-cols-2 gap-4 dark:text-white">
              <p> {{media.title}} </p>
              <div class="flex justify-end">
                <p class="mr-2"> {{media.typeMedia.title}}</p>
                <p>.</p>
                <p class="ml-2"> {{media.duration * 1000 | date:"mm" }} h {{media.duration * 1000 | date:"ss" }} min</p>
              </div>
            </mat-panel-description>
          </ng-container>
        </mat-expansion-panel>
      </mat-accordion>



      <mat-menu #menu="matMenu" class="dark:bg-neutral-600">
        <button mat-menu-item (click)="goToViewCourse(course)">
          <span class="dark:text-white">View course</span>
        </button>
        <button mat-menu-item (click)="goToUpdateCourse(course)">
          <span class="dark:text-white"> Update course </span>
        </button>
        <button mat-menu-item (click)="doRemoveCourseConceptor(course)">
          <span class="hot-action dark:text-white">Remove course</span>
        </button>
        <button mat-menu-item (click)="onCopyCourse(course)">
          <span class="hot-action dark:text-white">Copy course</span>
        </button>
      </mat-menu>

      <mat-menu #menuModule="matMenu" class="dark:bg-neutral-600">
        <button mat-menu-item>
          <span class="dark:text-white">View module</span>
        </button>
        <button mat-menu-item>
          <span class="dark:text-white">Update module</span>
        </button>
        <button mat-menu-item>
          <span class="dark:text-white">Remove module</span>
        </button>
      </mat-menu>

    </mat-expansion-panel>
  </mat-accordion>
</div>

<!-- Other list -->
<div class="row m-10">
  <div class="col xs11 course-title">
    Other list
  </div>
  <div class="col xs1 course-number">
    {{ courses.length }} courses
  </div>

</div>

<div class="mx-10 ">
  <mat-accordion *ngIf="courses.length">
    <mat-expansion-panel class="dark:bg-neutral-600" *ngFor="let course of courses ">
      <mat-expansion-panel-header>
        <mat-panel-title class="dark:text-white">
          {{course.title}}
        </mat-panel-title>
        <mat-panel-description class="flex-row-reverse dark:text-white">
          <ng-container *ngIf="course.modules!.length > 0; else noModules">
            {{ course.modules!.length }} {{course.modules!.length <= 1 ? "module" : "modules" }} </ng-container>
              <ng-template #noModules>no module</ng-template>
        </mat-panel-description>
        <mat-action-row>
          <button mat-button color="primary" class="dark:text-white" mat-icon-button [matMenuTriggerFor]="menu"
            (click)="$event.stopPropagation()">...</button>
        </mat-action-row>
      </mat-expansion-panel-header>
      <mat-accordion *ngFor="let module of course.modules">
        <mat-expansion-panel class="mb-2 dark:bg-neutral-600">
          <mat-expansion-panel-header>
            <mat-panel-title class="dark:text-white">
              {{module.name}}
            </mat-panel-title>
            <mat-panel-description class="flex-row-reverse dark:text-white">
              <ng-container *ngIf="module.medias.length > 0; else noMedias">
                {{module.medias.length }} {{module.medias.length <= 1 ? "media" : "medias" }} </ng-container>
                  <ng-template #noMedias>no media</ng-template>
            </mat-panel-description>
            <mat-action-row>
              <button mat-button color="primary" class="dark:text-white" mat-icon-button
                [matMenuTriggerFor]="menuModule" (click)="$event.stopPropagation()">...</button>
            </mat-action-row>
          </mat-expansion-panel-header>
          <ng-container *ngFor="let media of module.medias">
            <mat-panel-description class=" grid grid-cols-2 gap-4 dark:text-white">
              <p> {{media.title}} </p>
              <div class="flex justify-end">
                <p class="mr-2"> {{media.typeMedia.title}}</p>
                <p>.</p>
                <p class="ml-2"> {{media.duration * 1000 | date:"mm" }} h {{media.duration * 1000 | date:"ss" }} min</p>
              </div>
            </mat-panel-description>
          </ng-container>
        </mat-expansion-panel>
      </mat-accordion>


      <mat-menu class="dark:bg-neutral-600" #menu="matMenu">
        <button mat-menu-item (click)="goToViewCourse(course)">
          <span class="dark:text-white">View course</span>
        </button>
        <button class="dark:text-white" mat-menu-item (click)="onCopyCourse(course)">
          <span class="hot-action">Copy course</span>
        </button>
      </mat-menu>


      <mat-menu class="dark:bg-neutral-600" #menuModule="matMenu">
        <button mat-menu-item>
          <span class="dark:text-white">View module</span>
        </button>
      </mat-menu>

    </mat-expansion-panel>


  </mat-accordion>
</div>
